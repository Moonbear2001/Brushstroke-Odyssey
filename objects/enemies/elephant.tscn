[gd_scene load_steps=7 format=3 uid="uid://dv1kdmuaoduuf"]

[ext_resource type="Script" path="res://objects/enemies/elephant.gd" id="1_n2k5q"]
[ext_resource type="Script" path="res://objects/enemies/enemy.gd" id="1_xpor0"]
[ext_resource type="Texture2D" uid="uid://bcfrm7vqrhmlj" path="res://art/Dali/creatures/elephant.PNG" id="2_jevwg"]
[ext_resource type="AudioStream" uid="uid://di70snplm8pqt" path="res://audio/sfx/dali/marching-loop-32908.mp3" id="4_gbocx"]
[ext_resource type="AudioStream" uid="uid://rxc66ntfg3fg" path="res://audio/sfx/dali/angry-elephant-40916.mp3" id="5_lpyxh"]
[ext_resource type="AudioStream" uid="uid://celmtilskcsnw" path="res://audio/sfx/dali/mixed-whip-crack-1-102825.mp3" id="6_w2ubs"]

[node name="Elephant" type="Node2D"]
script = ExtResource("1_n2k5q")

[node name="Timer" type="Timer" parent="."]

[node name="Enemy" type="CharacterBody2D" parent="." node_paths=PackedStringArray("damage_area")]
collision_layer = 0
collision_mask = 0
script = ExtResource("1_xpor0")
damage_area = NodePath("DamageArea")

[node name="Sprite2D" type="Sprite2D" parent="Enemy"]
texture = ExtResource("2_jevwg")

[node name="DamageArea" type="Area2D" parent="Enemy"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Enemy/DamageArea"]
position = Vector2(-169, -97)
polygon = PackedVector2Array(-215, -37, -173, -45, -146, 2, -126, 69, -137, 107, -143, 138, -130, 165, -122, 199, -131, 227, -146.361, 255.18, -165, 274, -197, 266, -222, 259, -237, 238, -245, 194, -234, 185, -215, 236, -176, 245, -152, 220, -164, 186, -202, 130, -249, 80, -249, 0)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Enemy/DamageArea"]
polygon = PackedVector2Array(-273, 365, -273, 432, -382, 688, -389, 714, -355, 708, -313, 596, -299, 538, -242, 419, -235, 351)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Enemy/DamageArea"]
polygon = PackedVector2Array(-47, 281, -82, 403, -123, 479, -155, 547, -165, 567, -189, 638, -206, 695, -235, 727, -209, 735, -171, 646, -113, 498, -98, 461, -50, 361, -11, 287)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="Enemy/DamageArea"]
polygon = PackedVector2Array(88, 308, 224, 567, 259, 735, 259, 755, 235, 779, 285, 781, 283, 740, 243, 564, 169, 431, 114, 285)

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="Enemy/DamageArea"]
polygon = PackedVector2Array(-137, 365, -123, 445, -113, 543, -110, 615, -118, 694, -123, 728, -141, 744, -105, 760, -98, 727, -103, 656, -95, 516, -98, 373)

[node name="walk" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("4_gbocx")
volume_db = -15.0

[node name="pre-attack" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("5_lpyxh")

[node name="hit" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("6_w2ubs")

[node name="WalkTimer" type="Timer" parent="."]
wait_time = 0.5
autostart = true

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="timeout" from="WalkTimer" to="." method="_on_walk_timer_timeout"]
